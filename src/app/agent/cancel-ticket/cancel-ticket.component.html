<ngx-spinner bdColor="rgba(60,55,55,0.8)" size="large" color="#fff" type="ball-clip-rotate-multiple"
    [fullScreen]="true">
    <p style="color: white"> Loading... </p>
</ngx-spinner>

<div class="row">
    <div class="col-sm-12">
        <div class="search-box">
            <div class=" mb-3">
                <div class="row p-0">

                    <div class="col-12">

                        <form class="form-horizontal" [formGroup]="cancelForm">
                            <div class="hero-banner-inner-srchbus">
                                <div class="row no-gutters">

                                    <div class="col-md-10">
                                        <div class="row no-gutters">
                                            <div class="col-md-12   pr-1">
                                                <label><b>PNR</b></label>
                                                <div class="input-group mb-3 d-block">

                                                    <div class="input-group-prepend">
                                                        <input type="text" class="form-control modul-text"
                                                            formControlName="pnr" id="pnr" placeholder="Enter PNR" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <p style="opacity: 0;">Search</p>
                                        <div class="bus_search">
                                            <button type="botton" class="btn" (click)="getPnrDetails()">Search</button>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>

    </div>



</div>
<style>
    .tblll tr td{
       font-size: 20px;
       font-weight: bolder;
         line-height: 30px;
    }
</style>
<div class="row">
    <div class="col-md-12">
        <section class="search-result2 mt60" *ngIf="cancelPnrDetails">
            <div class="container ">
                <div class="card  mt-3">
                    <div class="card-header bg-warning">
                        <h5>Pnr Price Details </h5>
                    </div>
                    <div class="card-body">
                        <table class="table table-striped table-bordered tblll">

                            <tbody>
                                <tr >
                                    <td>Total fare:</td>
                                    <td>{{ cancelPnrDetails.totalfare}}</td>
                                </tr>
                                <!-- <tr>
                                   
                                    <td>Deduction Percentage:</td>
                                    <td class="text-danger">{{ cancelPnrDetails.deductionPercentage}}</td>
        
                                </tr> -->
                                <tr>
                                  
                                    <td>Deduction Amount:</td>
                                    <td class="text-danger">{{cancelPnrDetails.deductAmount}}</td>
        
                                </tr>
                                <tr>
                                    
                                    <td>Refund Amount:</td>
                                    <td>{{cancelPnrDetails.refundAmount}}</td>
        
                                </tr>
                                <!-- <tr>
                                   
                                    <td>Client Comission Amount:</td>
                                    <td class="text-info">{{cancelPnrDetails.clientCancelCommission}}</td>
        
                                </tr> -->
                                <tr class="text-center">
                                    <td colspan="2">
                                        <button class="btn btn-sm btn-danger" (click)="pnrCancel();"> Cancel The PNR</button>
                                    </td>
                                   
                                </tr>
                            </tbody>
                        </table> 
                    </div>
                </div>

                <!-- <div id="print_ticket">
                    <div class="passenger">

                    <h5>Pnr Price Details</h5> 
                        <div class="card-header bg-warning">
                            <h5>Operator Policy (Cancellation Policy) </h5>
                        </div>
                        <hr>
                        <div class="passenger-detail">
                            <div class="row">
                                <div class="col-md-12">
                               
                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->

            </div>
        </section>
    </div>
    <!-- <div class="col-md-5 " *ngIf="cancelPnrDetails">
        <div class="card  mt-3">
            <div class="card-header bg-warning">
                <h5>Operator Cancellation Policy) </h5>
            </div>
            <div class="card-body">
                <table class="table table-striped table-bordered">

                    <tbody>
                        <tr class="thead-dark">
                            <th scope="col">#</th>
                            <th scope="col">Time Duration </th>
                            <th scope="col">Deduction Percentage </th>
                        </tr>
                        <tr *ngFor="let data of cancelPnrDetails.bookingDetails[0].bus.cancellationslabs.cancellation_slab_info; let i = index">
                            <td>{{i+1}}</td>
                            <td><h4>{{data.duration}}<small> Hours of Departure </small></h4> </td>
                            <td class="text-right"><h4>{{data.deduction}} % <small>of Ticket Fare</small>  </h4></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div> -->
</div>

